# DB 마이그레이션 실행 워크플로우

데이터베이스 스키마 및 데이터를 안전하게 변경하기 위한 절차입니다.

---

## 1. 관련 원칙
- **Principle 10**: Database & Migration (형상 관리 및 가혁성)

## 2. 단계별 프로세스

### 1단계: 스크립트 페어 작성
- `Up` (적용) 및 `Down` (롤백) 스크립트를 작성.
- 파일명 규칙 준수: `YYYYMMDD_HHMMSS_description.sql`.

### 2단계: 로드맵 및 백로그 확인
- 마이그레이션이 서비스 중단을 초래하는지, 어떤 과업과 연결되는지 확인.

### 3단계: 로컬/스테이징 검증
- 로컬 환경에서 `Up` 실행 후 데이터 정합성 확인.
- `Down` 실행 후 이전 상태로 완벽히 복구되는지 확인.

### 4단계: PR 및 전문가 검토
- **System Architect**: 인덱스 성능 및 스키마 구조 검토.
- **Senior Software Engineer**: 마이그레이션 코드의 견고함 검토.

---

## 체크리스트
- [ ] Up/Down 스크립트 쌍 존재 확인
- [ ] 롤백 시 데이터 유실 방지 대책 포함
- [ ] `ai-rules/tasks/database.md` 규칙 준수 확인
- [ ] `docs/HISTORY.md` 기록 완료
